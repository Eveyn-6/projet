(window.webpackJsonp=window.webpackJsonp||[]).push([[223],{1431:function(t,e,o){"use strict";o(45),o(64),o(17);var r=o(1),n=o(1158),l=o(1225),c=o(5),d=(o(1101),o(1105)),m=o(11),f=o(219),v={$_veeValidate:{validator:"new"},components:{BFormInput:n.a,BFormGroup:l.a},mixins:[f.a],props:{email:{type:String,default:null},successRedirect:{type:Boolean,default:!0}},data:function(){return{form:new d.a({email:this.email,password:null,remember:!1},this.$validator)}},methods:{onSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r,n,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(m.d)("/api/v2/login",{subscriptions:!0}),e.next=3,t.form.post(o);case 3:if(r=e.sent,t.$amplitude.getInstance().logEvent("login",{type:"email"}),c.default.gtm.trackEvent({event:"login",category:"email"}),!t.successRedirect){e.next=13;break}return e.next=9,t.processLocalCartItems(r);case 9:(n=e.sent)?(l=t.$router.resolve(n).href,window.location.href=l):"redirect"in t.$route.query?window.location.href=t.$route.query.redirect:(window.location.reload(),t.$root.$emit("bv::hide::modal","modalAuthLogin")),e.next=21;break;case 13:return e.next=15,t.$store.dispatch("user/login",r);case 15:return t.setAnalyticsUser(r.auth),t.status="Processing your cart...",e.next=19,t.processLocalCartItems(r);case 19:d=e.sent,t.$router.replace(d);case 21:case"end":return e.stop()}}),e)})))()}}},h=o(30),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[o("b-form-group",[o("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"text",name:"email",placeholder:t.$t("user.email"),"data-vv-as":t.$t("user.email"),state:t.errors.has("email")?"invalid":null},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email","string"==typeof e?e.trim():e)},expression:"form.email"}})],1),t._v(" "),o("b-form-group",[o("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"password",name:"password",placeholder:t.$t("auth.password"),"data-vv-as":t.$t("auth.password"),state:t.errors.has("password")?"invalid":null},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"==typeof e?e.trim():e)},expression:"form.password"}})],1),t._v(" "),o("button",{class:["btn btn-primary btn-block",t.form.isLoading?t.form.loadingClass:""],attrs:{type:"submit"}},[t._v("\n    "+t._s(t.$t("auth.login"))+"\n  ")])],1)}),[],!1,null,null,null);e.a=component.exports},2322:function(t,e,o){var content=o(3084);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("ea9c109e",content,!0,{sourceMap:!1})},3083:function(t,e,o){"use strict";var r=o(2322),n=o.n(r);e.default=n.a},3084:function(t,e,o){(e=o(55)(!1)).push([t.i,".modal_3NW6G .modal-dialog{max-width:440px!important}.modal_3NW6G .btnForgotPassword_13tFG{font-weight:400;text-align:center}",""]),e.locals={modal:"modal_3NW6G",btnForgotPassword:"btnForgotPassword_13tFG"},t.exports=e},3303:function(t,e,o){"use strict";o.r(e);var r=o(179),n=o(1431),l=o(1692),c=o(1695),d={components:{BModal:r.a,LoginForm:n.a,Social:l.a,OrH:c.a},methods:{goToSignUp:function(){this.$root.$emit("bv::show::modal","modalAuthSignup"),this.$root.$emit("bv::hide::modal","modalAuthLogin")}}},m=o(3083),f=o(30);var component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{attrs:{id:"modalAuthLogin","modal-class":["modalAuth",t.$style.modal],centered:"","no-fade":!1,lazy:""}},[o("div",{attrs:{slot:"modal-header"},slot:"modal-header"},[o("h4",{staticClass:"h2 mb-2"},[t._v(t._s(t.$t("modals.auth.login.title")))])]),t._v(" "),o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-11"},[o("login-form"),t._v(" "),o("or-h"),t._v(" "),o("social",{attrs:{type:"login"}})],1),t._v(" "),o("div",{staticClass:"text-center mt-4"},[o("a",{class:["text-secondary font-size-sm",t.$style.btnForgotPassword],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$root.$emit("bv::show::modal","modalAuthForgotPassword")}}},[t._v(t._s(t.$t("auth.forgot_password")))])])]),t._v(" "),o("div",{staticClass:"font-size-sm",attrs:{slot:"modal-footer"},slot:"modal-footer"},[o("span",{staticClass:"text-muted font-weight-normal mr-1"},[t._v(t._s(t.$t("auth.dont_have_account")))]),t._v(" "),o("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goToSignUp(e)}}},[t._v(t._s(t.$t("auth.signup_long")))]),t._v(".\n  ")])])}),[],!1,(function(t){this.$style=m.default.locals||m.default}),null,null);e.default=component.exports}}]);
//# sourceMappingURL=b45c4dbf2f3edb5f2bf9.js.map